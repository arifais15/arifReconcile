"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{7139:(e,t,r)=>{r.r(t),r.d(t,{WheelSpinner:()=>h});var n=r(5155),a=r(2115),l=r(3998),i=r(4269);let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});o.displayName="Card",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})}).displayName="CardHeader",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})}).displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter";var s=r(4294);let d=(0,s.A)("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),f=(0,s.A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),u=["#FFD700","#FFAC33","#FF8C00","#FF6347","#FF4500"],m=[8,12,16];function p(){let[e,t]=(0,a.useState)([]);return(0,a.useEffect)(()=>{t(Array.from({length:50}).map((e,t)=>({id:t,x:Math.random()*window.innerWidth,y:-20-30*Math.random(),vx:4*Math.random()-2,vy:2*Math.random()+1,color:u[Math.floor(Math.random()*u.length)],size:m[Math.floor(Math.random()*m.length)],rotation:360*Math.random(),rotationSpeed:10*Math.random()-5})))},[]),(0,a.useEffect)(()=>{let e=requestAnimationFrame(()=>{t(e=>e.map(e=>{let t=e.y+e.vy;return t>window.innerHeight+20?{...e,y:-20,x:Math.random()*window.innerWidth}:{...e,y:t,x:e.x+e.vx,rotation:e.rotation+e.rotationSpeed}}).filter(e=>e.y<=window.innerHeight+20))});return()=>cancelAnimationFrame(e)},[e]),(0,n.jsx)("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none z-50 overflow-hidden",children:e.map(e=>(0,n.jsx)(f,{className:"absolute",style:{left:e.x,top:e.y,width:e.size,height:e.size,color:e.color,fill:e.color,transform:"rotate(".concat(e.rotation,"deg)")}},e.id))})}let x=function(e,t){let r,n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=t-e+1;if(l-a.length<=0)throw Error("No available numbers in the specified range.");let i=Math.ceil(Math.log2(l)/8),o=new Uint8Array(i);do{do window.crypto.getRandomValues(o),r=o.reduce((e,t)=>e<<8|t,0);while(r>=Math.pow(2,8*i)-Math.pow(2,8*i)%l);n=e+r%l}while(a.includes(n));return n};function h(e){let{onNewResult:t,min:r,max:i,isSpinning:s,setIsSpinning:f,spinHistory:u}=e,[m,h]=(0,a.useState)(null),[g,w]=(0,a.useState)(!1),[b,y]=(0,a.useState)(0),T=(0,a.useRef)(null),v=(0,a.useRef)(null),{playWinnerSound:N}=(e=>{let t=(0,a.useRef)(null),r=(0,a.useRef)(0),n={C4:261.63,D4:293.66,E4:329.63,F4:349.23,G4:392,A4:440},l=["G4","A4","G4","F4","E4","D4","C4","C4","D4","E4","F4","G4","A4","G4"],i=(0,a.useCallback)(()=>{if(!t.current)return;let e=t.current,a=n[l[r.current]],i=e.createOscillator(),o=e.createGain();i.type="sine",i.frequency.setValueAtTime(a,e.currentTime),o.gain.setValueAtTime(.001,e.currentTime),o.gain.exponentialRampToValueAtTime(.2,e.currentTime+.02),o.gain.exponentialRampToValueAtTime(.01,e.currentTime+.25),i.connect(o),o.connect(e.destination),i.start(e.currentTime),i.stop(e.currentTime+.3),r.current=(r.current+1)%l.length},[n,l]),o=(0,a.useCallback)(()=>{if(!t.current)return;let e=t.current;[261.63,329.63,392].forEach(t=>{[-5,0,5].forEach(r=>{let n=e.createOscillator(),a=e.createGain();n.type="sawtooth",n.frequency.setValueAtTime(t,e.currentTime),n.detune.setValueAtTime(r,e.currentTime),a.gain.setValueAtTime(0,e.currentTime),a.gain.linearRampToValueAtTime(.15,e.currentTime+.2),a.gain.linearRampToValueAtTime(0,e.currentTime+1.5),n.connect(a),a.connect(e.destination),n.start(e.currentTime),n.stop(e.currentTime+1.5)})})},[]);return(0,a.useEffect)(()=>(t.current||(t.current=new(window.AudioContext||window.webkitAudioContext)),e||(r.current=0),()=>{}),[e,i]),{playWinnerSound:o}})(s);(0,a.useEffect)(()=>{let e=e=>{j(e.detail.onSpinComplete)};return document.addEventListener("recallSpin",e),()=>{document.removeEventListener("recallSpin",e)}},[u]);let j=e=>{if(s||r>=i)return;f(!0),h(null),w(!1);let n=x(8e3,12e3),a=x(r,i,u.map(e=>e.number));y(b+10800+x(0,359)),T.current&&(T.current.style.transitionDuration="".concat(n,"ms")),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{N(),f(!1),h(a),e?e(a):t(a),w(!0),setTimeout(()=>{w(!1)},15e3)},n)};return(0,a.useEffect)(()=>()=>{v.current&&clearTimeout(v.current)},[]),(0,n.jsxs)(n.Fragment,{children:[g&&(0,n.jsx)(p,{}),(0,n.jsx)(o,{className:"w-full max-w-none shadow-none border-0 bg-transparent no-print",children:(0,n.jsxs)(c,{className:"flex flex-col items-center gap-8 p-6",children:[(0,n.jsxs)("div",{className:"relative w-[350px] h-[350px] md:w-[500px] md:h-[500px] lg:w-[600px] lg:h-[600px] xl:w-[700px] xl:h-[700px]",children:[(0,n.jsx)("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",style:{width:0,height:0,borderLeft:"15px solid transparent",borderRight:"15px solid transparent",borderTop:"30px solid hsl(var(--primary))",zIndex:10}}),(0,n.jsx)("div",{ref:T,className:"w-full h-full rounded-full border-[12px] border-primary/20 bg-card overflow-hidden transition-transform ease-out",style:{transform:"rotate(".concat(b,"deg)")},children:(0,n.jsx)("div",{className:"w-full h-full",style:{background:"conic-gradient(\n                      from 0deg, \n                      #ffadad, #ffd6a5, #fdffb6, #caffbf, #9bf6ff, #a0c4ff, #bdb2ff, #ffc6ff,\n                      #ffadad, #ffd6a5, #fdffb6, #caffbf, #9bf6ff, #a0c4ff, #bdb2ff, #ffc6ff\n                  )"}})}),(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,n.jsx)("div",{className:"text-6xl md:text-8xl lg:text-9xl font-bold tracking-widest font-mono h-[10rem] lg:h-[12rem] flex items-center justify-center p-4 rounded-lg bg-background/80 backdrop-blur-sm min-w-[20rem] lg:min-w-[28rem] mx-auto",children:null!==m?m.toString().padStart(4,"0"):s?"?":"----"})})]}),(0,n.jsxs)(l.$,{onClick:()=>j(),disabled:s||r>=i,size:"lg",className:"bg-accent text-accent-foreground hover:bg-accent/90 min-w-[200px] h-14 text-xl mt-8",children:[(0,n.jsx)(d,{className:"mr-2 h-6 w-6 ".concat(s?"animate-spin-slow":"")}),s?"Spinning...":"Spin Wheel"]})]})})]})}}}]);