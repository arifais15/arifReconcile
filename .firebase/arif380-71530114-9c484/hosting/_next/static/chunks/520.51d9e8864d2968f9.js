"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{7139:(e,r,t)=>{t.r(r),t.d(r,{WheelSpinner:()=>x});var n=t(5155),a=t(2115),l=t(3998),o=t(4269);let s=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});s.displayName="Card",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",t),...a})}).displayName="CardHeader",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})}).displayName="CardTitle",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",t),...a})}).displayName="CardDescription";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,o.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter";var i=t(4294);let c=(0,i.A)("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),f=(0,i.A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),m=["#FFD700","#FFAC33","#FF8C00","#FF6347","#FF4500"],u=[8,12,16];function p(){let[e,r]=(0,a.useState)([]);return(0,a.useEffect)(()=>{r(Array.from({length:50}).map((e,r)=>({id:r,x:Math.random()*window.innerWidth,y:-20-30*Math.random(),vx:4*Math.random()-2,vy:2*Math.random()+1,color:m[Math.floor(Math.random()*m.length)],size:u[Math.floor(Math.random()*u.length)],rotation:360*Math.random(),rotationSpeed:10*Math.random()-5})))},[]),(0,a.useEffect)(()=>{let e=requestAnimationFrame(()=>{r(e=>e.map(e=>{let r=e.y+e.vy;return r>window.innerHeight+20?{...e,y:-20,x:Math.random()*window.innerWidth}:{...e,y:r,x:e.x+e.vx,rotation:e.rotation+e.rotationSpeed}}).filter(e=>e.y<=window.innerHeight+20))});return()=>cancelAnimationFrame(e)},[e]),(0,n.jsx)("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none z-50 overflow-hidden",children:e.map(e=>(0,n.jsx)(f,{className:"absolute",style:{left:e.x,top:e.y,width:e.size,height:e.size,color:e.color,fill:e.color,transform:"rotate(".concat(e.rotation,"deg)")}},e.id))})}function x(e){let{onNewResult:r,min:t,max:o,isSpinning:i,setIsSpinning:f}=e,[m,u]=(0,a.useState)(null),[x,h]=(0,a.useState)(!1),[g,w]=(0,a.useState)(0),y=(0,a.useRef)(null),b=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=e=>{v(e.detail.onSpinComplete)};return document.addEventListener("recallSpin",e),()=>{document.removeEventListener("recallSpin",e)}},[]);let v=e=>{if(i||t>=o)return;f(!0),u(null),h(!1);let n=document.getElementById("spin-sound"),a=document.getElementById("winner-sound");n&&(n.currentTime=0,n.play().catch(e=>console.error("Error playing spin sound:",e)));let l=5e3*Math.random()+1e4,s=Math.floor(Math.random()*(o-t+1))+t;w(g+10800+360*Math.random()),y.current&&(y.current.style.transitionDuration="".concat(l,"ms")),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{n&&(n.pause(),n.currentTime=0),a&&(a.currentTime=0,a.play().catch(e=>console.error("Error playing winner sound:",e))),f(!1),u(s),e?e(s):r(s),h(!0),setTimeout(()=>{h(!1)},15e3)},l)};return(0,a.useEffect)(()=>()=>{b.current&&clearTimeout(b.current)},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("audio",{id:"spin-sound",src:"/sounds/tick.mp3",loop:!0}),(0,n.jsx)("audio",{id:"winner-sound",src:"/sounds/win.mp3"}),x&&(0,n.jsx)(p,{}),(0,n.jsx)(s,{className:"w-full max-w-none shadow-none border-0 bg-transparent no-print",children:(0,n.jsxs)(d,{className:"flex flex-col items-center gap-8 p-6",children:[(0,n.jsxs)("div",{className:"relative w-[350px] h-[350px] md:w-[500px] md:h-[500px] lg:w-[600px] lg:h-[600px] xl:w-[700px] xl:h-[700px]",children:[(0,n.jsx)("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",style:{width:0,height:0,borderLeft:"15px solid transparent",borderRight:"15px solid transparent",borderTop:"30px solid hsl(var(--primary))",zIndex:10}}),(0,n.jsx)("div",{ref:y,className:"w-full h-full rounded-full border-[12px] border-primary/20 bg-card overflow-hidden transition-transform ease-out",style:{transform:"rotate(".concat(g,"deg)")},children:(0,n.jsx)("div",{className:"w-full h-full",style:{background:"conic-gradient(\n                      from 0deg, \n                      #ffadad, #ffd6a5, #fdffb6, #caffbf, #9bf6ff, #a0c4ff, #bdb2ff, #ffc6ff,\n                      #ffadad, #ffd6a5, #fdffb6, #caffbf, #9bf6ff, #a0c4ff, #bdb2ff, #ffc6ff\n                  )"}})}),(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,n.jsx)("div",{className:"text-8xl md:text-9xl lg:text-[10rem] font-bold tracking-widest font-mono h-[10rem] lg:h-[12rem] flex items-center justify-center p-4 rounded-lg bg-background/80 backdrop-blur-sm min-w-[20rem] lg:min-w-[28rem] mx-auto",children:null!==m?m.toString().padStart(4,"0"):i?"?":"----"})})]}),(0,n.jsxs)(l.$,{onClick:()=>v(),disabled:i||t>=o,size:"lg",className:"bg-accent text-accent-foreground hover:bg-accent/90 min-w-[200px] h-14 text-xl mt-8",children:[(0,n.jsx)(c,{className:"mr-2 h-6 w-6 ".concat(i?"animate-spin-slow":"")}),i?"Spinning...":"Spin Wheel"]})]})})]})}}}]);